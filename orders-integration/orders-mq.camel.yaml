- route:
    id: orders-mq-consumer
    from:
      id: from-b3a0
      uri: kamelet:spring-rabbitmq-source
      parameters:
        host: rabbitmq
        port: 5672
        queues: orders.request
        exchangeName: default
        autoDeclare: false
        acknowledgeMode: AUTO
      steps:
        - log:
            id: log-cade
            message: "üì® Received order request from MQ: ${body}"
        - log:
            id: log-d94f
            message: "üîç ALL Headers: ${headers}"
        - setProperty:
            id: setProperty-adbc
            name: savedCorrelationId
            expression:
              simple:
                id: simple-764d
                expression: ${header.CamelSpringRabbitmqCorrelationId}
        - log:
            id: log-7e83
            message: "üîë Saved CorrelationId: ${exchangeProperty.savedCorrelationId}"
        - to:
            id: to-4e5f
            uri: direct
            parameters:
              name: orders-integration
