- route:
    id: orders-mq-consumer
    from:
      id: from-918d
      uri: kamelet:spring-rabbitmq-source
      parameters:
        host: rabbitmq
        port: 5672
        queues: orders.request
        exchangeName: default
        autoDeclare: false
        acknowledgeMode: AUTO
      steps:
        - log:
            id: log-16dc
            message: "ðŸ“¨ Received order request from MQ: ${body}"
        - setProperty:
            id: setProperty-1869
            name: savedCorrelationId
            expression:
              simple:
                id: simple-2684
                expression: ${header.rabbitmq.CORRELATION_ID}
        - log:
            id: log-4e57
            message: "ðŸ”‘ Saved CorrelationId: ${exchangeProperty.savedCorrelationId}"
        - to:
            id: to-6d57
            uri: direct
            parameters:
              name: orders-integration
