- route:
    id: orders-mq-consumer
    from:
      id: from-a523
      uri: kamelet:spring-rabbitmq-source
      parameters:
        host: rabbitmq
        port: 5672
        queues: orders.request
        exchangeName: default
        autoDeclare: false
        acknowledgeMode: AUTO
      steps:
        - log:
            id: log-6e6c
            message: "ðŸ“¨ Received order request from MQ: ${body}"
        - setProperty:
            id: setProperty-0b42
            name: savedCorrelationId
            expression:
              simple:
                id: simple-7f1f
                expression: ${header.rabbitmq.CORRELATION_ID}
        - log:
            id: log-e3a2
            message: "ðŸ”‘ Saved CorrelationId: ${exchangeProperty.savedCorrelationId}"
        - to:
            id: to-6001
            uri: direct
            parameters:
              name: orders-integration
